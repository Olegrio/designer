{"ast":null,"code":"var _jsxFileName = \"c:\\\\xampp\\\\htdocs\\\\old_designer\\\\4\\\\designer\\\\src\\\\components\\\\Maket\\\\Maket.js\";\nimport React from 'react';\nimport $ from 'jquery';\nimport st from './Maket.module.css';\n\nclass Maket extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = this.props.state;\n  }\n\n  componentWillMount() {\n    let state = this.state; //так себе решение. заполняем поля на превью значенияими из state каждые 500ms \n    //  setInterval(function() {\n    //      state.fill_maket();\n    //      console.log('interval');\n    //   }, 500);\n    //Получаем SVG по ссылке переданной в props и вставляем SVG в блок maket \n\n    fetch(this.props.src).then(function (response) {\n      return response.text();\n    }).then(svg => document.getElementById('maket').innerHTML = svg).then(state.fill_maket());\n    document.addEventListener(\"click\", function (e) {\n      console.log(e.target.id);\n      e.target.id !== '' && e.target.id !== \"tag-typer\" && e.target.id !== \"tags\" ? state.createValue(e.target.id) : document.getElementById(\"tag-typer\").disabled = true;\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"maket\",\n      className: st.maket,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: \"inputs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \" \"));\n  }\n\n  componentDidMount() {\n    let state = this.state;\n    setTimeout(function () {\n      debugger;\n      let arr = Array.from(document.getElementsByTagName('text'));\n      arr.map((data, key) => $(\"<span class='tag' id='\" + data.id + \"_tag' count='\" + 1 + \"' style='display:none'><span class='close'>&times;</span><span class='textClose'>\" + data.innerHTML + \"</span></span>\").insertBefore('input#tag-typer').fadeIn(100));\n    }, 1000);\n  }\n\n}\n\nexport default Maket;","map":{"version":3,"sources":["c:\\xampp\\htdocs\\old_designer\\4\\designer\\src\\components\\Maket\\Maket.js"],"names":["React","$","st","Maket","Component","constructor","props","state","componentWillMount","fetch","src","then","response","text","svg","document","getElementById","innerHTML","fill_maket","addEventListener","e","console","log","target","id","createValue","disabled","render","maket","componentDidMount","setTimeout","arr","Array","from","getElementsByTagName","map","data","key","insertBefore","fadeIn"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,EAAP,MAAe,oBAAf;;AAGA,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAoC;AAElCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa,KAAKD,KAAL,CAAWC,KAAxB;AACD;;AAGHC,EAAAA,kBAAkB,GAAE;AAClB,QAAID,KAAK,GAAG,KAAKA,KAAjB,CADkB,CAGjB;AACD;AACA;AACA;AACA;AAEC;;AACCE,IAAAA,KAAK,CAAC,KAAKH,KAAL,CAAWI,GAAZ,CAAL,CAAsBC,IAAtB,CAA2B,UAASC,QAAT,EAAmB;AAAC,aAAOA,QAAQ,CAACC,IAAT,EAAP;AAAuB,KAAtE,EAAwEF,IAAxE,CAA6EG,GAAG,IAChFC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,SAAjC,GAA6CH,GAD7C,EACkDH,IADlD,CACwDJ,KAAK,CAACW,UAAN,EADxD;AAIAH,IAAAA,QAAQ,CAACI,gBAAT,CAA0B,OAA1B,EAAmC,UAAUC,CAAV,EAAa;AAC5CC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,EAArB;AAEAJ,MAAAA,CAAC,CAACG,MAAF,CAASC,EAAT,KAAgB,EAAhB,IAAsBJ,CAAC,CAACG,MAAF,CAASC,EAAT,KAAgB,WAAtC,IAAqDJ,CAAC,CAACG,MAAF,CAASC,EAAT,KAAgB,MAArE,GAA8EjB,KAAK,CAACkB,WAAN,CAAkBL,CAAC,CAACG,MAAF,CAASC,EAA3B,CAA9E,GAA8GT,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCU,QAArC,GAAgD,IAA9J;AAEH,KALD;AAOH;;AAEDC,EAAAA,MAAM,GAAE;AAEJ,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,MAAA,EAAE,EAAC,OAAR;AAAgB,MAAA,SAAS,EAAEzB,EAAE,CAAC0B,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAEA;AAAK,MAAA,EAAE,EAAC,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFA,CADA;AAMH;;AACDC,EAAAA,iBAAiB,GAAE;AACjB,QAAItB,KAAK,GAAG,KAAKA,KAAjB;AAEAuB,IAAAA,UAAU,CAAC,YAAW;AACpB;AACA,UAAIC,GAAG,GAAEC,KAAK,CAACC,IAAN,CAAWlB,QAAQ,CAACmB,oBAAT,CAA8B,MAA9B,CAAX,CAAT;AACAH,MAAAA,GAAG,CAACI,GAAJ,CAAQ,CAACC,IAAD,EAAMC,GAAN,KAAYpC,CAAC,CAAC,2BAAyBmC,IAAI,CAACZ,EAA9B,GAAkC,eAAlC,GAAkD,CAAlD,GAAqD,mFAArD,GAAyIY,IAAI,CAACnB,SAA9I,GAAwJ,gBAAzJ,CAAD,CAA4KqB,YAA5K,CAAyL,iBAAzL,EAA4MC,MAA5M,CAAmN,GAAnN,CAApB;AAGI,KANI,EAMF,IANE,CAAV;AAQD;;AAnDmC;;AAuDpC,eAAepC,KAAf","sourcesContent":["import React from 'react';\r\nimport $ from 'jquery';\r\nimport st from './Maket.module.css';\r\n\r\n\r\nclass Maket extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = this.props.state;\r\n  }\r\n    \r\n\r\ncomponentWillMount(){\r\n  let state = this.state;\r\n\r\n   //так себе решение. заполняем поля на превью значенияими из state каждые 500ms \r\n  //  setInterval(function() {\r\n  //      state.fill_maket();\r\n  //      console.log('interval');\r\n  //   }, 500);\r\n\r\n   //Получаем SVG по ссылке переданной в props и вставляем SVG в блок maket \r\n    fetch(this.props.src).then(function(response) {return response.text()}).then(svg=> \r\n    document.getElementById('maket').innerHTML = svg).then( state.fill_maket());\r\n  \r\n\r\n    document.addEventListener(\"click\", function (e) {\r\n        console.log(e.target.id);\r\n        \r\n        e.target.id !== '' && e.target.id !== \"tag-typer\" && e.target.id !== \"tags\" ? state.createValue(e.target.id) :document.getElementById(\"tag-typer\").disabled = true ;\r\n        \r\n    });\r\n \r\n}\r\n\r\nrender(){\r\n\r\n    return(\r\n    <div>    \r\n    <div id='maket' className={st.maket}></div>    \r\n    <div id=\"inputs\" > </div>\r\n    </div>\r\n    );\r\n}\r\ncomponentDidMount(){\r\n  let state = this.state;\r\n  \r\n  setTimeout(function() {\r\n    debugger;\r\n    let arr =Array.from(document.getElementsByTagName('text'));\r\n    arr.map((data,key)=>$(\"<span class='tag' id='\"+data.id +\"_tag' count='\"+1 +\"' style='display:none'><span class='close'>&times;</span><span class='textClose'>\"+data.innerHTML+\"</span></span>\").insertBefore('input#tag-typer').fadeIn(100) );\r\n   \r\n    \r\n       }, 1000);\r\n\r\n}\r\n}\r\n\r\n\r\nexport default Maket;\r\n"]},"metadata":{},"sourceType":"module"}